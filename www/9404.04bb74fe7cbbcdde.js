"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9404],{9404:(U,y,n)=>{n.r(y),n.d(y,{EmployeeDetailPage:()=>S});var g=n(5861),h=n(6814),l=n(95),d=n(209),r=n(3582),p=n(6306),c=n(8504),e=n(6689),_=n(8602),u=n(4414),f=n(2722);function b(i,s){if(1&i){const o=e.EpF();e.TgZ(0,"ion-buttons",29)(1,"ion-button",30),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.ChangeViewDataFlag())}),e._UZ(2,"ion-icon",31),e.qZA()()}}function E(i,s){1&i&&(e.TgZ(0,"ion-buttons",32)(1,"ion-button",33),e._uU(2,"Save"),e.qZA()()),2&i&&e.Q6J("collapse",!0)}const v=function(){return["/employee"]};function I(i,s){1&i&&(e.TgZ(0,"ion-buttons",32)(1,"ion-button",34),e._uU(2,"Cancel"),e.qZA()()),2&i&&(e.Q6J("collapse",!0),e.xp6(1),e.Q6J("routerLink",e.DdM(2,v)))}function D(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.levelCode," ")}}function Z(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.employeeName," ")}}function F(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.territoryCode," ")}}function T(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.territoryCode," ")}}function C(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.territoryCode," ")}}let S=(()=>{class i{constructor(o,t,a,m,A,P,N){this.activatedRoute=o,this.employeeService=t,this.router=a,this._fb=m,this.alertCtrl=A,this.toastCtrl=P,this.loader=N,this.loadedEmployee={},this.ViewDataFlag=!1}ngOnInit(){this.initemployeeForm(),this.activatedRoute.paramMap.subscribe(o=>{if(o.has("employeeId"))if(o.get("employeeId")){const t=JSON.parse(o.get("employeeId"));this.ViewDataFlag=!0,this.loadEmployeeDetails(t)}else this.loadEmployeeDetails();else this.router.navigate(["/employee"])})}initemployeeForm(){this.employeeForm=this._fb.group({id:[0],employeeCode:["",l.kI.required],firstname:["",l.kI.required],lastname:["",l.kI.required],levelID:["",l.kI.required],reportingManagerId:["",l.kI.required],contactNo:["",l.kI.required],building:["",l.kI.required],block:["",l.kI.required],city:["",l.kI.required],zipcode:["",l.kI.required],state:["",l.kI.required],country:["",l.kI.required],active:["",l.kI.required],emailId:["",l.kI.required],login:["",l.kI.required],password:["",l.kI.required],territoryID:["",l.kI.required]}),this.employeeService.getLevelList(),this.employeeService.getTerritoryList(),this.employeeService.getEmployeeList(),this.employeeForm.controls.active.setValue("Y")}enableFormControl(o){1==o?(this.employeeForm.get("employeeCode").enable(),this.employeeForm.get("firstname").enable(),this.employeeForm.get("lastname").enable(),this.employeeForm.get("levelID").enable(),this.employeeForm.get("reportingManagerId").enable(),this.employeeForm.get("contactNo").enable(),this.employeeForm.get("building").enable(),this.employeeForm.get("block").enable(),this.employeeForm.get("city").enable(),this.employeeForm.get("zipcode").enable(),this.employeeForm.get("state").enable(),this.employeeForm.get("country").enable(),this.employeeForm.get("active").enable(),this.employeeForm.get("emailId").enable(),this.employeeForm.get("login").enable(),this.employeeForm.get("password").enable(),this.employeeForm.get("territoryID").enable()):(this.employeeForm.get("employeeCode").disable(),this.employeeForm.get("firstname").disable(),this.employeeForm.get("lastname").disable(),this.employeeForm.get("levelID").disable(),this.employeeForm.get("reportingManagerId").disable(),this.employeeForm.get("contactNo").disable(),this.employeeForm.get("building").disable(),this.employeeForm.get("block").disable(),this.employeeForm.get("city").disable(),this.employeeForm.get("zipcode").disable(),this.employeeForm.get("state").disable(),this.employeeForm.get("country").disable(),this.employeeForm.get("active").disable(),this.employeeForm.get("emailId").disable(),this.employeeForm.get("login").disable(),this.employeeForm.get("password").disable(),this.employeeForm.get("territoryID").disable())}loadEmployeeDetails(o=-1){-1==o||(this.employeeService.getEmployee(o).pipe((0,p.K)(t=>(this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{t.responseData&&(this.loadedEmployee=t.responseData[0],this.employeeForm.patchValue({id:this.loadedEmployee.id,employeeCode:this.loadedEmployee.employeeCode,firstname:this.loadedEmployee.firstName,lastname:this.loadedEmployee.lastName,levelID:this.loadedEmployee.levelID,reportingManagerId:this.loadedEmployee.reportingManagerId,contactNo:this.loadedEmployee.contactNo,building:this.loadedEmployee.building,block:this.loadedEmployee.block,city:this.loadedEmployee.city,zipcode:this.loadedEmployee.zipcode,state:this.loadedEmployee.state,country:this.loadedEmployee.country,active:this.loadedEmployee.active,emailId:this.loadedEmployee.emailId,login:this.loadedEmployee.login,password:this.loadedEmployee.password,territoryID:this.loadedEmployee.territoryID}))}),this.enableFormControl(!1))}ChangeViewDataFlag(){this.ViewDataFlag=!1,this.enableFormControl(!0)}DeleteEmployee(){const o=this.loadedEmployee.id;this.alertCtrl.create({header:"Are you sure?",message:"Do you really want to delete the Employee?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.loader.present(),this.employeeService.deleteEmployee(o).pipe((0,p.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id==this.loadedEmployee.id&&0==t.errCode&&(this.showToast("Employee Deleted Successfully","secondary"),this.employeeService.resetValues(),this.fetchEmployeeList(this.employeeService.pageIndex,this.employeeService.pageSize,this.employeeService.searchTerm),this.router.navigate(["/employee"]))})}}]}).then(t=>{t.present()})}onSubmit({value:o}){o.id?(this.loader.present(),this.employeeService.updateEmployee(o.id,o).pipe((0,p.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id&&0==t.errCode&&(this.showToast("Employee updated Successfully","secondary"),this.employeeService.resetValues(),this.fetchEmployeeList(this.employeeService.pageIndex,this.employeeService.pageSize,this.employeeService.searchTerm),this.router.navigate(["/employee"]))})):(this.loader.present(),this.employeeService.AddEmployee(o).pipe((0,p.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id&&0==t.errCode&&(this.showToast("Employee Added Successfully","secondary"),this.employeeService.resetValues(),this.fetchEmployeeList(this.employeeService.pageIndex,this.employeeService.pageSize,this.employeeService.searchTerm),this.router.navigate(["/employee"]))}))}fetchEmployeeList(o,t,a){var m=this;return(0,g.Z)(function*(){yield m.employeeService.refreshEmployeeList(o,t,a),m.employeeService.pageIndex+=1})()}showToast(o,t){var a=this;return(0,g.Z)(function*(){yield a.toastCtrl.create({message:o,duration:2e3,position:"top",color:t,buttons:[{text:"ok",handler:()=>{}}]}).then(m=>m.present())})()}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(d.gz),e.Y36(_.G),e.Y36(d.F0),e.Y36(l.qu),e.Y36(u.Br),e.Y36(u.yF),e.Y36(f.D))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-detail"]],standalone:!0,features:[e.jDz],decls:89,vars:11,consts:[[3,"formGroup","ngSubmit"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/employee"],["slot","primary",4,"ngIf"],["slot","end",3,"collapse",4,"ngIf"],[3,"fullscreen"],["no-padding",""],["label","Employee Code","labelPlacement","floating","formControlName","employeeCode"],["label","First Name","labelPlacement","floating","formControlName","firstname"],["label","Last Name","labelPlacement","floating","formControlName","lastname"],["aria-label","levelId","interface","popover","placeholder","Level","formControlName","levelID"],[3,"value",4,"ngFor","ngForOf"],["aria-label","reportingManagerId","interface","popover","placeholder","Reporting Manager","formControlName","reportingManagerId"],["label","Contact No","labelPlacement","floating","formControlName","contactNo"],["labelPlacement","floating","label","Building","formControlName","building"],["labelPlacement","floating","label","Block","formControlName","block"],["labelPlacement","floating","label","City","formControlName","city"],["labelPlacement","floating","label","Zip Code","formControlName","zipcode"],["aria-label","Active","interface","popover","placeholder","State","formControlName","State"],["aria-label","Active","interface","popover","placeholder","Country","formControlName","Country"],["aria-label","Active","interface","popover","placeholder","Active","formControlName","active"],["value","Y"],["value","N"],["label","Emai Id","labelPlacement","floating","formControlName","emailId"],["label","Login","labelPlacement","floating","formControlName","login"],["label","Password","type","password","labelPlacement","floating","formControlName","password"],["aria-label","Active","interface","popover","placeholder","Territory Id","formControlName","territoryID"],["slot","primary"],[3,"click"],["name","create-outline","slot","icon-only"],["slot","end",3,"collapse"],["type","submit"],[3,"routerLink"],[3,"value"]],template:function(t,a){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return a.onSubmit(a.employeeForm)}),e.TgZ(1,"ion-header",1)(2,"ion-toolbar",2)(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Employee Details"),e.qZA(),e.YNc(7,b,3,0,"ion-buttons",5),e.YNc(8,E,3,1,"ion-buttons",6),e.YNc(9,I,3,3,"ion-buttons",6),e.qZA()(),e.TgZ(10,"ion-content",7)(11,"ion-grid",8)(12,"ion-row")(13,"ion-col",8)(14,"ion-item"),e._UZ(15,"ion-input",9),e.qZA()()(),e.TgZ(16,"ion-row")(17,"ion-col",8)(18,"ion-item"),e._UZ(19,"ion-input",10),e.qZA()()(),e.TgZ(20,"ion-row")(21,"ion-col",8)(22,"ion-item"),e._UZ(23,"ion-input",11),e.qZA()()(),e.TgZ(24,"ion-row")(25,"ion-col",8)(26,"ion-item")(27,"ion-select",12),e.YNc(28,D,2,2,"ion-select-option",13),e.qZA()()()(),e.TgZ(29,"ion-row")(30,"ion-col",8)(31,"ion-item")(32,"ion-select",14),e.YNc(33,Z,2,2,"ion-select-option",13),e.qZA()()()(),e.TgZ(34,"ion-row")(35,"ion-col",8)(36,"ion-item"),e._UZ(37,"ion-input",15),e.qZA()()(),e.TgZ(38,"ion-row")(39,"ion-col",8)(40,"ion-item"),e._UZ(41,"ion-textarea",16),e.qZA()()(),e.TgZ(42,"ion-row")(43,"ion-col",8)(44,"ion-item"),e._UZ(45,"ion-textarea",17),e.qZA()()(),e.TgZ(46,"ion-row")(47,"ion-col",8)(48,"ion-item"),e._UZ(49,"ion-textarea",18),e.qZA()()(),e.TgZ(50,"ion-row")(51,"ion-col",8)(52,"ion-item"),e._UZ(53,"ion-textarea",19),e.qZA()()(),e.TgZ(54,"ion-row")(55,"ion-col",8)(56,"ion-item")(57,"ion-select",20),e.YNc(58,F,2,2,"ion-select-option",13),e.qZA()()()(),e.TgZ(59,"ion-row")(60,"ion-col",8)(61,"ion-item")(62,"ion-select",21),e.YNc(63,T,2,2,"ion-select-option",13),e.qZA()()()(),e.TgZ(64,"ion-row")(65,"ion-col",8)(66,"ion-item")(67,"ion-select",22)(68,"ion-select-option",23),e._uU(69,"Yes"),e.qZA(),e.TgZ(70,"ion-select-option",24),e._uU(71,"No"),e.qZA()()()()(),e.TgZ(72,"ion-row")(73,"ion-col",8)(74,"ion-item"),e._UZ(75,"ion-input",25),e.qZA()()(),e.TgZ(76,"ion-row")(77,"ion-col",8)(78,"ion-item"),e._UZ(79,"ion-input",26),e.qZA()()(),e.TgZ(80,"ion-row")(81,"ion-col",8)(82,"ion-item"),e._UZ(83,"ion-input",27),e.qZA()()(),e.TgZ(84,"ion-row")(85,"ion-col",8)(86,"ion-item")(87,"ion-select",28),e.YNc(88,C,2,2,"ion-select-option",13),e.qZA()()()()()()()),2&t&&(e.Q6J("formGroup",a.employeeForm),e.xp6(1),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",1==a.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==a.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==a.ViewDataFlag),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(18),e.Q6J("ngForOf",a.employeeService.levelList),e.xp6(5),e.Q6J("ngForOf",a.employeeService.employeeList),e.xp6(25),e.Q6J("ngForOf",a.employeeService.territoryList),e.xp6(5),e.Q6J("ngForOf",a.employeeService.territoryList),e.xp6(25),e.Q6J("ngForOf",a.employeeService.territoryList))},dependencies:[r.Pc,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.gu,r.pK,r.Ie,r.Nd,r.t9,r.n0,r.g2,r.wd,r.sr,r.QI,r.j9,r.oU,r.YI,d.rH,h.ax,h.O5,l.UX,l._Y,l.JJ,l.JL,l.sg,l.u]})}return i})()}}]);