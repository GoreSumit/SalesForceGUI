"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5059],{5059:(Z,_,o)=>{o.r(_),o.d(_,{DailyActivityPage:()=>m});var l=o(5861),v=o(6814),y=o(95),d=o(209),n=o(3582),i=o(6689),u=o(931),A=o(4414);const h=function(){return["/dailyactivity",""]};function g(c,s){if(1&c){const t=i.EpF();i.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),i._UZ(2,"ion-back-button",7),i.qZA(),i.TgZ(3,"ion-title"),i._uU(4,"Daily Activity"),i.qZA(),i.TgZ(5,"ion-buttons",8)(6,"ion-button",9),i.NdJ("click",function(){i.CHM(t);const a=i.oxw();return i.KtG(a.toggleSearchBar())}),i._UZ(7,"ion-icon",10),i.qZA()(),i.TgZ(8,"ion-buttons",8)(9,"ion-button",11),i._UZ(10,"ion-icon",12),i.qZA()()()}2&c&&(i.xp6(9),i.Q6J("routerLink",i.DdM(1,h)))}function S(c,s){if(1&c){const t=i.EpF();i.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),i._UZ(2,"ion-back-button"),i.qZA(),i.TgZ(3,"ion-searchbar",13),i.NdJ("ngModelChange",function(a){i.CHM(t);const r=i.oxw();return i.KtG(r.dailyActivityService.searchTerm=a)}),i.qZA(),i.TgZ(4,"ion-buttons",14)(5,"ion-button",15),i.NdJ("click",function(){i.CHM(t);const a=i.oxw();return i.KtG(a.search(a.dailyActivityService.searchTerm))}),i._uU(6,"Search"),i.qZA()(),i.TgZ(7,"ion-buttons",14)(8,"ion-button",15),i.NdJ("click",function(){i.CHM(t);const a=i.oxw();return i.KtG(a.cancelSearch())}),i._uU(9,"Cancel"),i.qZA()()()}if(2&c){const t=i.oxw();i.xp6(3),i.Q6J("ngModel",t.dailyActivityService.searchTerm)}}const f=function(c){return["/dailyactivity",c]};function p(c,s){if(1&c&&(i.TgZ(0,"ion-item",11)(1,"ion-label")(2,"strong"),i._uU(3),i.qZA(),i._UZ(4,"br"),i.TgZ(5,"ion-note",16),i._uU(6),i.qZA()(),i.TgZ(7,"div",17),i._UZ(8,"ion-icon",18),i.qZA()()),2&c){const t=s.$implicit;i.Q6J("routerLink",i.VKq(3,f,t.id)),i.xp6(3),i.Oqu(t.id),i.xp6(3),i.hij(" ",t.id," ")}}let m=(()=>{class c{constructor(t,e){this.dailyActivityService=t,this.toastCtrl=e}ngOnInit(){this.dailyActivityService.searchTerm="",this.fetchDailyActivityList(this.dailyActivityService.pageIndex,this.dailyActivityService.pageSize,this.dailyActivityService.searchTerm),this.dailyActivityService.pageIndex+=1}fetchDailyActivityList(t,e,a){var r=this;return(0,l.Z)(function*(){yield r.dailyActivityService.refreshDailyActivityList(t,e,a)})()}onScrollLoadData(t){var e=this;return(0,l.Z)(function*(){e.dailyActivityService.dailyActivityList.length!==e.dailyActivityService.totalCount&&(e.fetchDailyActivityList(e.dailyActivityService.pageIndex,e.dailyActivityService.pageSize,e.dailyActivityService.searchTerm),e.dailyActivityService.pageIndex+=1),setTimeout(()=>{t.target.complete()},500)})()}toggleSearchBar(){this.dailyActivityService.showSearchBar=!this.dailyActivityService.showSearchBar}cancelSearch(){var t=this;return(0,l.Z)(function*(){t.dailyActivityService.showSearchBar=!1,t.dailyActivityService.searchTerm="",t.dailyActivityService.pageIndex=1,t.dailyActivityService.dailyActivityList=[],yield t.fetchDailyActivityList(t.dailyActivityService.pageIndex,t.dailyActivityService.pageSize,t.dailyActivityService.searchTerm),t.dailyActivityService.pageIndex+=1})()}search(t){var e=this;return(0,l.Z)(function*(){e.dailyActivityService.pageIndex=1,e.dailyActivityService.dailyActivityList=[],yield e.fetchDailyActivityList(e.dailyActivityService.pageIndex,e.dailyActivityService.pageSize,t),e.dailyActivityService.pageIndex+=1})()}showToast(t,e){var a=this;return(0,l.Z)(function*(){yield a.toastCtrl.create({message:t,duration:2e3,position:"top",color:e,buttons:[{text:"ok",handler:()=>{}}]}).then(r=>r.present())})()}static#i=this.\u0275fac=function(e){return new(e||c)(i.Y36(u.N),i.Y36(A.yF))};static#t=this.\u0275cmp=i.Xpm({type:c,selectors:[["app-daily-activity"]],standalone:!0,features:[i.jDz],decls:8,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium","name","chevron-forward"]],template:function(e,a){1&e&&(i.TgZ(0,"ion-header",0),i.YNc(1,g,11,2,"ion-toolbar",1),i.YNc(2,S,10,1,"ion-toolbar",1),i.qZA(),i.TgZ(3,"ion-content",2)(4,"ion-list"),i.YNc(5,p,9,5,"ion-item",3),i.qZA(),i.TgZ(6,"ion-infinite-scroll",4),i.NdJ("ionInfinite",function(T){return a.onScrollLoadData(T)}),i._UZ(7,"ion-infinite-scroll-content"),i.qZA()()),2&e&&(i.Q6J("translucent",!0),i.xp6(1),i.Q6J("ngIf",!a.dailyActivityService.showSearchBar),i.xp6(1),i.Q6J("ngIf",a.dailyActivityService.showSearchBar),i.xp6(1),i.Q6J("fullscreen",!0),i.xp6(2),i.Q6J("ngForOf",a.dailyActivityService.dailyActivityList))},dependencies:[n.Pc,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.ju,n.MB,n.Ie,n.Q$,n.q_,n.uN,n.VI,n.wd,n.sr,n.j9,n.oU,n.YI,d.rH,v.ax,v.O5,y.u5,y.JJ,y.On]})}return c})()}}]);