"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8508],{8508:(x,d,i)=>{i.r(d),i.d(d,{ProductsPage:()=>T});var u=i(5861),l=i(6814),p=i(209),r=i(3582),s=i(95),t=i(6689),h=i(6077),g=i(4414);const S=function(){return["/products",""]};function m(c,_){if(1&c){const e=t.EpF();t.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),t._UZ(2,"ion-back-button",7),t.qZA(),t.TgZ(3,"ion-title"),t._uU(4,"Products"),t.qZA(),t.TgZ(5,"ion-buttons",8)(6,"ion-button",9),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleSearchBar())}),t._UZ(7,"ion-icon",10),t.qZA()(),t.TgZ(8,"ion-buttons",8)(9,"ion-button",11),t._UZ(10,"ion-icon",12),t.qZA()()()}2&c&&(t.xp6(9),t.Q6J("routerLink",t.DdM(1,S)))}function v(c,_){if(1&c){const e=t.EpF();t.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),t._UZ(2,"ion-back-button"),t.qZA(),t.TgZ(3,"ion-searchbar",13),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.productService.searchTerm=n)}),t.qZA(),t.TgZ(4,"ion-buttons",14)(5,"ion-button",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.search(n.productService.searchTerm))}),t._uU(6,"Search"),t.qZA()(),t.TgZ(7,"ion-buttons",14)(8,"ion-button",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelSearch())}),t._uU(9,"Cancel"),t.qZA()()()}if(2&c){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productService.searchTerm)}}const f=function(c){return["/products",c]};function P(c,_){if(1&c&&(t.TgZ(0,"ion-item",11)(1,"ion-label")(2,"strong"),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"ion-note",16),t._uU(6),t.qZA()(),t.TgZ(7,"div",17)(8,"ion-note",18),t._uU(9),t.qZA(),t._UZ(10,"ion-icon",19),t.qZA()()),2&c){const e=_.$implicit;t.Q6J("routerLink",t.VKq(4,f,e.id)),t.xp6(3),t.Oqu(e.productCode),t.xp6(3),t.hij(" ",e.productName," "),t.xp6(3),t.Oqu(e.qtyInStock)}}let T=(()=>{class c{constructor(e,o){this.productService=e,this.toastCtrl=o}ngOnInit(){this.productService.searchTerm="",this.fetchProductList(this.productService.pageIndex,this.productService.pageSize,this.productService.searchTerm),this.productService.pageIndex+=1}fetchProductList(e,o,n){var a=this;return(0,u.Z)(function*(){yield a.productService.refreshProductList(e,o,n)})()}onScrollLoadData(e){var o=this;return(0,u.Z)(function*(){o.productService.productList.length!==o.productService.totalCount&&(o.fetchProductList(o.productService.pageIndex,o.productService.pageSize,o.productService.searchTerm),o.productService.pageIndex+=1),setTimeout(()=>{e.target.complete()},500)})()}toggleSearchBar(){this.productService.showSearchBar=!this.productService.showSearchBar}cancelSearch(){var e=this;return(0,u.Z)(function*(){e.productService.showSearchBar=!1,e.productService.searchTerm="",e.productService.pageIndex=1,e.productService.productList=[],yield e.fetchProductList(e.productService.pageIndex,e.productService.pageSize,e.productService.searchTerm),e.productService.pageIndex+=1})()}search(e){var o=this;return(0,u.Z)(function*(){o.productService.pageIndex=1,o.productService.productList=[],yield o.fetchProductList(o.productService.pageIndex,o.productService.pageSize,o.productService.searchTerm),o.productService.pageIndex+=1})()}showToast(e,o){var n=this;return(0,u.Z)(function*(){yield n.toastCtrl.create({message:e,duration:2e3,position:"top",color:o,buttons:[{text:"ok",handler:()=>{}}]}).then(a=>a.present())})()}static#t=this.\u0275fac=function(o){return new(o||c)(t.Y36(h.s),t.Y36(g.yF))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:8,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium"],["color","medium","name","chevron-forward"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header",0),t.YNc(1,m,11,2,"ion-toolbar",1),t.YNc(2,v,10,1,"ion-toolbar",1),t.qZA(),t.TgZ(3,"ion-content",2)(4,"ion-list"),t.YNc(5,P,11,6,"ion-item",3),t.qZA(),t.TgZ(6,"ion-infinite-scroll",4),t.NdJ("ionInfinite",function(Z){return n.onScrollLoadData(Z)}),t._UZ(7,"ion-infinite-scroll-content"),t.qZA()()),2&o&&(t.Q6J("translucent",!0),t.xp6(1),t.Q6J("ngIf",!n.productService.showSearchBar),t.xp6(1),t.Q6J("ngIf",n.productService.showSearchBar),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngForOf",n.productService.productList))},dependencies:[r.Pc,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.ju,r.MB,r.Ie,r.Q$,r.q_,r.uN,r.VI,r.wd,r.sr,r.j9,r.oU,r.YI,p.rH,l.ax,l.O5,s.u5,s.JJ,s.On]})}return c})()}}]);