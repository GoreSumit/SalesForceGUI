"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3602],{3602:(x,v,r)=>{r.r(v),r.d(v,{LevelPage:()=>L});var a=r(5861),u=r(6814),h=r(209),l=r(3582),s=r(95),e=r(6689),g=r(3117),S=r(4414);const d=function(){return["/level",""]};function f(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button",7),e.qZA(),e.TgZ(3,"ion-title"),e._uU(4,"Level"),e.qZA(),e.TgZ(5,"ion-buttons",8)(6,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleSearchBar())}),e._UZ(7,"ion-icon",10),e.qZA()(),e.TgZ(8,"ion-buttons",8)(9,"ion-button",11),e._UZ(10,"ion-icon",12),e.qZA()()()}2&o&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,d)))}function m(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button"),e.qZA(),e.TgZ(3,"ion-searchbar",13),e.NdJ("ngModelChange",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.levelService.searchTerm=i)}),e.qZA(),e.TgZ(4,"ion-buttons",14)(5,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.search(i.levelService.searchTerm))}),e._uU(6,"Search"),e.qZA()(),e.TgZ(7,"ion-buttons",14)(8,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSearch())}),e._uU(9,"Cancel"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.levelService.searchTerm)}}const p=function(o){return["/level",o]};function T(o,_){if(1&o&&(e.TgZ(0,"ion-item",11)(1,"ion-label")(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"ion-note",16),e._uU(6),e.qZA()(),e.TgZ(7,"div",17),e._UZ(8,"ion-icon",18),e.qZA()()),2&o){const t=_.$implicit;e.Q6J("routerLink",e.VKq(3,p,t.id)),e.xp6(3),e.Oqu(t.levelCode),e.xp6(3),e.hij(" ",t.levelName," ")}}let L=(()=>{class o{constructor(t,n){this.levelService=t,this.toastCtrl=n}ngOnInit(){this.levelService.searchTerm="",this.fetchLevelList(this.levelService.pageIndex,this.levelService.pageSize,this.levelService.searchTerm),this.levelService.pageIndex+=1}fetchLevelList(t,n,i){var c=this;return(0,a.Z)(function*(){yield c.levelService.refreshLevelList(t,n,i)})()}onScrollLoadData(t){var n=this;return(0,a.Z)(function*(){n.levelService.levelList.length!==n.levelService.totalCount&&(n.fetchLevelList(n.levelService.pageIndex,n.levelService.pageSize,n.levelService.searchTerm),n.levelService.pageIndex+=1),setTimeout(()=>{t.target.complete()},500)})()}toggleSearchBar(){this.levelService.showSearchBar=!this.levelService.showSearchBar}cancelSearch(){var t=this;return(0,a.Z)(function*(){t.levelService.showSearchBar=!1,t.levelService.searchTerm="",t.levelService.pageIndex=1,t.levelService.levelList=[],yield t.fetchLevelList(t.levelService.pageIndex,t.levelService.pageSize,t.levelService.searchTerm),t.levelService.pageIndex+=1})()}search(t){var n=this;return(0,a.Z)(function*(){n.levelService.pageIndex=1,n.levelService.levelList=[],yield n.fetchLevelList(n.levelService.pageIndex,n.levelService.pageSize,n.levelService.searchTerm),n.levelService.pageIndex+=1})()}showToast(t,n){var i=this;return(0,a.Z)(function*(){yield i.toastCtrl.create({message:t,duration:2e3,position:"top",color:n,buttons:[{text:"ok",handler:()=>{}}]}).then(c=>c.present())})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(g.r),e.Y36(S.yF))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-level"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium","name","chevron-forward"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header",0),e.YNc(1,f,11,2,"ion-toolbar",1),e.YNc(2,m,10,1,"ion-toolbar",1),e.qZA(),e.TgZ(3,"ion-content",2)(4,"ion-list"),e.YNc(5,T,9,5,"ion-item",3),e.qZA(),e.TgZ(6,"ion-infinite-scroll",4),e.NdJ("ionInfinite",function(Z){return i.onScrollLoadData(Z)}),e._UZ(7,"ion-infinite-scroll-content"),e.qZA()()),2&n&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("ngIf",!i.levelService.showSearchBar),e.xp6(1),e.Q6J("ngIf",i.levelService.showSearchBar),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngForOf",i.levelService.levelList))},dependencies:[l.Pc,l.YG,l.Sm,l.W2,l.Gu,l.gu,l.ju,l.MB,l.Ie,l.Q$,l.q_,l.uN,l.VI,l.wd,l.sr,l.j9,l.oU,l.YI,h.rH,u.ax,u.O5,s.u5,s.JJ,s.On]})}return o})()}}]);