"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[400],{400:(I,l,i)=>{i.r(l),i.d(l,{ProductTypeDetailPage:()=>S});var h=i(5861),y=i(6814),n=i(95),d=i(209),r=i(3582),u=i(6306),p=i(8504),e=i(6689),g=i(2649),T=i(4414),m=i(2722);function P(a,_){if(1&a){const o=e.EpF();e.TgZ(0,"ion-buttons",10)(1,"ion-button",11),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.ChangeViewDataFlag())}),e._UZ(2,"ion-icon",12),e.qZA()()}}function f(a,_){1&a&&(e.TgZ(0,"ion-buttons",13)(1,"ion-button",14),e._uU(2,"Save"),e.qZA()()),2&a&&e.Q6J("collapse",!0)}const D=function(){return["/product-type"]};function b(a,_){1&a&&(e.TgZ(0,"ion-buttons",13)(1,"ion-button",15),e._uU(2,"Cancel"),e.qZA()()),2&a&&(e.Q6J("collapse",!0),e.xp6(1),e.Q6J("routerLink",e.DdM(2,D)))}let S=(()=>{class a{constructor(o,t,s,c,E,v,C){this._fb=o,this.activatedRoute=t,this.productTypeService=s,this.router=c,this.alertCtrl=E,this.toastCtrl=v,this.loader=C,this.loadedProductType={},this.ViewDataFlag=!1}ngOnInit(){this.initProductTypeForm(),this.activatedRoute.paramMap.subscribe(o=>{if(o.has("productTypeId"))if(o.get("productTypeId")){const t=JSON.parse(o.get("productTypeId"));this.ViewDataFlag=!0,this.loadProductTypeDetails(t)}else this.loadProductTypeDetails();else this.router.navigate(["/productType"])})}initProductTypeForm(){this.productTypeForm=this._fb.group({id:[0],groupName:["",n.kI.required]})}enableFormControl(o){1==o?this.productTypeForm.get("groupName").enable():this.productTypeForm.get("groupName").disable()}loadProductTypeDetails(o=-1){-1==o||(this.productTypeService.getProductType(o).pipe((0,u.K)(t=>(this.showToast("Some error has been occured","danger"),(0,p._)(()=>t)))).subscribe(t=>{t.responseData&&(this.loadedProductType=t.responseData[0],this.productTypeForm.patchValue({id:this.loadedProductType.id,typeName:this.loadedProductType.groupName}))}),this.enableFormControl(!1))}ChangeViewDataFlag(){this.ViewDataFlag=!1,this.enableFormControl(!0)}DeleteProductType(){const o=this.loadedProductType.id;this.alertCtrl.create({header:"Are you sure?",message:"Do you really want to delete the product Type?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.loader.present(),this.productTypeService.deleteProductType(o).pipe((0,u.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,p._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id==this.loadedProductType.id&&0==t.errCode&&(this.showToast("Product Type Deleted Successfully","secondary"),this.productTypeService.resetValues(),this.fetchProductTypeList(this.productTypeService.pageIndex,this.productTypeService.pageSize,this.productTypeService.searchTerm),this.router.navigate(["/product-type"]))})}}]}).then(t=>{t.present()})}onSubmit({value:o}){o.id?(this.loader.present(),this.productTypeService.updateProductType(o.id,o).pipe((0,u.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,p._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id&&0==t.errCode&&(this.showToast("Product Type updated Successfully","secondary"),this.productTypeService.resetValues(),this.fetchProductTypeList(this.productTypeService.pageIndex,this.productTypeService.pageSize,this.productTypeService.searchTerm),this.router.navigate(["/product-type"]))})):(this.loader.present(),this.productTypeService.AddProductType(o).pipe((0,u.K)(t=>(this.loader.dismiss(),console.log(o),this.showToast("Some error has been occured","danger"),(0,p._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),console.log(t),t.responseData&&t.responseData.id&&0==t.errCode&&(console.log(o),this.showToast("Product Type Added Successfully","secondary"),this.productTypeService.resetValues(),this.fetchProductTypeList(this.productTypeService.pageIndex,this.productTypeService.pageSize,this.productTypeService.searchTerm),this.router.navigate(["/product-type"]))}))}fetchProductTypeList(o,t,s){var c=this;return(0,h.Z)(function*(){yield c.productTypeService.refreshProductType(o,t,s)})()}showToast(o,t){var s=this;return(0,h.Z)(function*(){yield s.toastCtrl.create({message:o,duration:2e3,position:"top",color:t,buttons:[{text:"ok",handler:()=>{}}]}).then(c=>c.present())})()}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(d.gz),e.Y36(g.c),e.Y36(d.F0),e.Y36(T.Br),e.Y36(T.yF),e.Y36(m.D))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-product-type-detail"]],standalone:!0,features:[e.jDz],decls:16,vars:6,consts:[[3,"formGroup","ngSubmit"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/product-type"],["slot","primary",4,"ngIf"],["slot","end",3,"collapse",4,"ngIf"],[3,"fullscreen"],["no-padding",""],["id","ionInputTypeName","label","Product Type Name","labelPlacement","floating","formControlName","groupName"],["slot","primary"],[3,"click"],["name","create-outline","slot","icon-only"],["slot","end",3,"collapse"],["type","submit"],[3,"routerLink"]],template:function(t,s){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.onSubmit(s.productTypeForm)}),e.TgZ(1,"ion-header",1)(2,"ion-toolbar",2)(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Product Type Details"),e.qZA(),e.YNc(7,P,3,0,"ion-buttons",5),e.YNc(8,f,3,1,"ion-buttons",6),e.YNc(9,b,3,3,"ion-buttons",6),e.qZA()(),e.TgZ(10,"ion-content",7)(11,"ion-grid",8)(12,"ion-row")(13,"ion-col",8)(14,"ion-item"),e._UZ(15,"ion-input",9),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",s.productTypeForm),e.xp6(1),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",1==s.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==s.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==s.ViewDataFlag),e.xp6(1),e.Q6J("fullscreen",!0))},dependencies:[r.Pc,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.gu,r.pK,r.Ie,r.Nd,r.wd,r.sr,r.j9,r.oU,r.YI,d.rH,y.O5,n.UX,n._Y,n.JJ,n.JL,n.sg,n.u]})}return a})()}}]);