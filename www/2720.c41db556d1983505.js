"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2720],{2720:(Z,m,l)=>{l.r(m),l.d(m,{EmployeePage:()=>E});var a=l(5861),p=l(6814),u=l(209),n=l(3582),s=l(95),e=l(6689),y=l(8602),h=l(4414);const g=function(){return["/employee",""]};function S(r,_){if(1&r){const o=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button",7),e.qZA(),e.TgZ(3,"ion-title"),e._uU(4,"Employee"),e.qZA(),e.TgZ(5,"ion-buttons",8)(6,"ion-button",9),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.toggleSearchBar())}),e._UZ(7,"ion-icon",10),e.qZA()(),e.TgZ(8,"ion-buttons",8)(9,"ion-button",11),e._UZ(10,"ion-icon",12),e.qZA()()()}2&r&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,g)))}function d(r,_){if(1&r){const o=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button"),e.qZA(),e.TgZ(3,"ion-searchbar",13),e.NdJ("ngModelChange",function(i){e.CHM(o);const c=e.oxw();return e.KtG(c.employeeService.searchTerm=i)}),e.qZA(),e.TgZ(4,"ion-buttons",14)(5,"ion-button",15),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.search(i.employeeService.searchTerm))}),e._uU(6,"Search"),e.qZA()(),e.TgZ(7,"ion-buttons",14)(8,"ion-button",15),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.cancelSearch())}),e._uU(9,"Cancel"),e.qZA()()()}if(2&r){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.employeeService.searchTerm)}}const v=function(r){return["/employee",r]};function f(r,_){if(1&r&&(e.TgZ(0,"ion-item",11)(1,"ion-label")(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"ion-note",16),e._uU(6),e.qZA()(),e.TgZ(7,"div",17),e._UZ(8,"ion-icon",18),e.qZA()()),2&r){const o=_.$implicit;e.Q6J("routerLink",e.VKq(3,v,o.id)),e.xp6(3),e.Oqu(o.employeeCode),e.xp6(3),e.hij(" ",o.employeeName," ")}}let E=(()=>{class r{constructor(o,t){this.employeeService=o,this.toastCtrl=t}ngOnInit(){this.employeeService.searchTerm="",this.fetchEmployeeList(this.employeeService.pageIndex,this.employeeService.pageSize,this.employeeService.searchTerm),this.employeeService.pageIndex+=1}fetchEmployeeList(o,t,i){var c=this;return(0,a.Z)(function*(){yield c.employeeService.refreshEmployeeList(o,t,i)})()}onScrollLoadData(o){var t=this;return(0,a.Z)(function*(){t.employeeService.employeeList.length!==t.employeeService.totalCount&&(t.fetchEmployeeList(t.employeeService.pageIndex,t.employeeService.pageSize,t.employeeService.searchTerm),t.employeeService.pageIndex+=1),setTimeout(()=>{o.target.complete()},500)})()}toggleSearchBar(){this.employeeService.showSearchBar=!this.employeeService.showSearchBar}cancelSearch(){var o=this;return(0,a.Z)(function*(){o.employeeService.showSearchBar=!1,o.employeeService.searchTerm="",o.employeeService.pageIndex=1,o.employeeService.employeeList=[],yield o.fetchEmployeeList(o.employeeService.pageIndex,o.employeeService.pageSize,o.employeeService.searchTerm),o.employeeService.pageIndex+=1})()}search(o){var t=this;return(0,a.Z)(function*(){t.employeeService.pageIndex=1,t.employeeService.employeeList=[],yield t.fetchEmployeeList(t.employeeService.pageIndex,t.employeeService.pageSize,t.employeeService.searchTerm),t.employeeService.pageIndex+=1})()}showToast(o,t){var i=this;return(0,a.Z)(function*(){yield i.toastCtrl.create({message:o,duration:2e3,position:"top",color:t,buttons:[{text:"ok",handler:()=>{}}]}).then(c=>c.present())})()}static#e=this.\u0275fac=function(t){return new(t||r)(e.Y36(y.G),e.Y36(h.yF))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-employee"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium","name","chevron-forward"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0),e.YNc(1,S,11,2,"ion-toolbar",1),e.YNc(2,d,10,1,"ion-toolbar",1),e.qZA(),e.TgZ(3,"ion-content",2)(4,"ion-list"),e.YNc(5,f,9,5,"ion-item",3),e.qZA(),e.TgZ(6,"ion-infinite-scroll",4),e.NdJ("ionInfinite",function(T){return i.onScrollLoadData(T)}),e._UZ(7,"ion-infinite-scroll-content"),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("ngIf",!i.employeeService.showSearchBar),e.xp6(1),e.Q6J("ngIf",i.employeeService.showSearchBar),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngForOf",i.employeeService.employeeList))},dependencies:[n.Pc,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.ju,n.MB,n.Ie,n.Q$,n.q_,n.uN,n.VI,n.wd,n.sr,n.j9,n.oU,n.YI,u.rH,p.ax,p.O5,s.u5,s.JJ,s.On]})}return r})()}}]);