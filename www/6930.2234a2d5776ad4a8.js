"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6930],{6930:(Z,m,i)=>{i.r(m),i.d(m,{CustomerTypePage:()=>f});var a=i(5861),p=i(6814),l=i(209),r=i(3582),u=i(95),e=i(6689),T=i(4636),y=i(4414);const h=function(){return["/customer-type",""]};function g(c,_){if(1&c){const t=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button",7),e.qZA(),e.TgZ(3,"ion-title"),e._uU(4,"Customer Type"),e.qZA(),e.TgZ(5,"ion-buttons",8)(6,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleSearchBar())}),e._UZ(7,"ion-icon",10),e.qZA()(),e.TgZ(8,"ion-buttons",8)(9,"ion-button",11),e._UZ(10,"ion-icon",12),e.qZA()()()}2&c&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,h)))}function S(c,_){if(1&c){const t=e.EpF();e.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6),e._UZ(2,"ion-back-button"),e.qZA(),e.TgZ(3,"ion-searchbar",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.customerTypeService.searchTerm=n)}),e.qZA(),e.TgZ(4,"ion-buttons",14)(5,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.search(n.customerTypeService.searchTerm))}),e._uU(6,"Search"),e.qZA()(),e.TgZ(7,"ion-buttons",14)(8,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cancelSearch())}),e._uU(9,"Cancel"),e.qZA()()()}if(2&c){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.customerTypeService.searchTerm)}}const d=function(c){return["/customer-type",c]};function v(c,_){if(1&c&&(e.TgZ(0,"ion-item",11)(1,"ion-label")(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"ion-note",16),e._uU(6),e.qZA()(),e.TgZ(7,"div",17),e._UZ(8,"ion-icon",18),e.qZA()()),2&c){const t=_.$implicit;e.Q6J("routerLink",e.VKq(3,d,t.id)),e.xp6(3),e.Oqu(t.customerTypeCode),e.xp6(3),e.hij(" ",t.customerTypeName," ")}}let f=(()=>{class c{constructor(t,o){this.customerTypeService=t,this.toastCtrl=o}ngOnInit(){this.customerTypeService.searchTerm="",this.fetchCustomerTypeList(this.customerTypeService.pageIndex,this.customerTypeService.pageSize,this.customerTypeService.searchTerm),this.customerTypeService.pageIndex+=1}fetchCustomerTypeList(t,o,n){var s=this;return(0,a.Z)(function*(){yield s.customerTypeService.refreshCustomerTypeList(t,o,n)})()}onScrollLoadData(t){var o=this;return(0,a.Z)(function*(){o.customerTypeService.customerTypeList.length!==o.customerTypeService.totalCount&&(o.fetchCustomerTypeList(o.customerTypeService.pageIndex,o.customerTypeService.pageSize,o.customerTypeService.searchTerm),o.customerTypeService.pageIndex+=1),setTimeout(()=>{t.target.complete()},500)})()}toggleSearchBar(){this.customerTypeService.showSearchBar=!this.customerTypeService.showSearchBar}cancelSearch(){var t=this;return(0,a.Z)(function*(){t.customerTypeService.showSearchBar=!1,t.customerTypeService.searchTerm="",t.customerTypeService.pageIndex=1,t.customerTypeService.customerTypeList=[],yield t.fetchCustomerTypeList(t.customerTypeService.pageIndex,t.customerTypeService.pageSize,t.customerTypeService.searchTerm),t.customerTypeService.pageIndex+=1})()}search(t){var o=this;return(0,a.Z)(function*(){o.customerTypeService.pageIndex=1,o.customerTypeService.customerTypeList=[],yield o.fetchCustomerTypeList(o.customerTypeService.pageIndex,o.customerTypeService.pageSize,o.customerTypeService.searchTerm),o.customerTypeService.pageIndex+=1})()}showToast(t,o){var n=this;return(0,a.Z)(function*(){yield n.toastCtrl.create({message:t,duration:2e3,position:"top",color:o,buttons:[{text:"ok",handler:()=>{}}]}).then(s=>s.present())})()}static#e=this.\u0275fac=function(o){return new(o||c)(e.Y36(T.a),e.Y36(y.yF))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-customer-type"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ionInfinite"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium","name","chevron-forward"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header",0),e.YNc(1,g,11,2,"ion-toolbar",1),e.YNc(2,S,10,1,"ion-toolbar",1),e.qZA(),e.TgZ(3,"ion-content",2)(4,"ion-list"),e.YNc(5,v,9,5,"ion-item",3),e.qZA(),e.TgZ(6,"ion-infinite-scroll",4),e.NdJ("ionInfinite",function(C){return n.onScrollLoadData(C)}),e._UZ(7,"ion-infinite-scroll-content"),e.qZA()()),2&o&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("ngIf",!n.customerTypeService.showSearchBar),e.xp6(1),e.Q6J("ngIf",n.customerTypeService.showSearchBar),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngForOf",n.customerTypeService.customerTypeList))},dependencies:[r.Pc,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.ju,r.MB,r.Ie,r.Q$,r.q_,r.uN,r.VI,r.wd,r.sr,r.j9,r.oU,r.YI,l.rH,p.ax,p.O5,u.u5,u.JJ,u.On]})}return c})()}}]);