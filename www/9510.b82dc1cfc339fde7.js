"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9510],{9510:(y,c,d)=>{d.r(c),d.d(c,{ShipToAddrsForm:()=>C});var u=d(5861),_=d(6814),i=d(95),p=d(209),o=d(3582),l=d(6306),h=d(8504),e=d(6689),A=d(6518),T=d(4414),g=d(2722);const S=["class","page"];function b(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"ion-buttons",16)(1,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.ChangeViewDataFlag())}),e._UZ(2,"ion-icon",18),e.qZA()()}}function f(n,m){1&n&&(e.TgZ(0,"ion-buttons",19)(1,"ion-button",20),e._uU(2,"Save"),e.qZA()()),2&n&&e.Q6J("collapse",!0)}const D=function(){return["/shiptoaddress"]};function E(n,m){1&n&&(e.TgZ(0,"ion-buttons",19)(1,"ion-button",21),e._uU(2,"Cancel"),e.qZA()()),2&n&&(e.Q6J("collapse",!0),e.xp6(1),e.Q6J("routerLink",e.DdM(2,D)))}let C=(()=>{class n{constructor(t,s,r,a,F,I,v){this._fb=t,this.activatedRoute=s,this.shipToAddrsService=r,this.router=a,this.alertCtrl=F,this.toastCtrl=I,this.loader=v,this.loadedShipToAddrs={},this.ViewDataFlag=!1}ngOnInit(){this.initExpenseForm(),this.activatedRoute.paramMap.subscribe(t=>{if(t.has("shiptoaddressId"))if(t.get("shiptoaddressId")){const s=JSON.parse(t.get("shiptoaddressId"));this.ViewDataFlag=!0,this.loadExpenseMasterDetails(s)}else this.loadExpenseMasterDetails();else this.router.navigate(["/shiptoaddress"])})}initExpenseForm(){this.ShipToAddrsForm=this._fb.group({id:[0],addressId:["",i.kI.required],block:["",i.kI.required],city:["",i.kI.required],zipCode:["",i.kI.required],state:["",i.kI.required],country:["",i.kI.required],gstNo:["",i.kI.required]})}enableFormControl(t){1==t?(this.ShipToAddrsForm.get("addressId").enable(),this.ShipToAddrsForm.get("block").enable(),this.ShipToAddrsForm.get("city").enable(),this.ShipToAddrsForm.get("zipCode").enable(),this.ShipToAddrsForm.get("state").enable(),this.ShipToAddrsForm.get("country").enable(),this.ShipToAddrsForm.get("gstNo").enable()):(this.ShipToAddrsForm.get("addressId").disable(),this.ShipToAddrsForm.get("block").disable(),this.ShipToAddrsForm.get("city").disable(),this.ShipToAddrsForm.get("zipCode").disable(),this.ShipToAddrsForm.get("state").disable(),this.ShipToAddrsForm.get("country").enable(),this.ShipToAddrsForm.get("gstNo").enable())}loadExpenseMasterDetails(t=-1){-1==t||(this.shipToAddrsService.getShipToAddrs(t).pipe((0,l.K)(s=>(this.showToast("Some error has been occured","danger"),(0,h._)(()=>s)))).subscribe(s=>{s.responseData&&(this.loadedShipToAddrs=s.responseData[0],this.ShipToAddrsForm.patchValue({id:this.loadedShipToAddrs.id,addressId:this.loadedShipToAddrs.addressId,block:this.loadedShipToAddrs.block,city:this.loadedShipToAddrs.city,zipCode:this.loadedShipToAddrs.zipCode,state:this.loadedShipToAddrs.state,country:this.loadedShipToAddrs.country,gstNo:this.loadedShipToAddrs.gstNo}))}),this.enableFormControl(!1))}ChangeViewDataFlag(){this.ViewDataFlag=!1,this.enableFormControl(!0)}DeleteExpenseMaster(){const t=this.loadedShipToAddrs.id;this.alertCtrl.create({header:"Are you sure?",message:"Do you really want to delete the Expense Head ?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.loader.present(),this.shipToAddrsService.deleteShipToAddrs(t).pipe((0,l.K)(s=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,h._)(()=>s)))).subscribe(s=>{this.loader.dismiss(),s.responseData&&s.responseData.id==this.loadedShipToAddrs.id&&0==s.errCode&&(this.showToast("Expense Master  Deleted Successfully","secondary"),this.shipToAddrsService.resetValues(),this.fetchProductTypeList(this.shipToAddrsService.pageIndex,this.shipToAddrsService.pageSize,this.shipToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))})}}]}).then(s=>{s.present()})}onSubmit({value:t}){t.id?(this.loader.present(),this.shipToAddrsService.updateShipToAddrs(t.id,t).pipe((0,l.K)(s=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,h._)(()=>s)))).subscribe(s=>{this.loader.dismiss(),s.responseData&&s.responseData.id&&0==s.errCode&&(this.showToast("Expense Head updated Successfully","secondary"),this.shipToAddrsService.resetValues(),this.fetchProductTypeList(this.shipToAddrsService.pageIndex,this.shipToAddrsService.pageSize,this.shipToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))})):(this.loader.present(),this.shipToAddrsService.AddShipToAddrs(t).pipe((0,l.K)(s=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,h._)(()=>s)))).subscribe(s=>{this.loader.dismiss(),s.responseData&&s.responseData.id&&0==s.errCode&&(this.showToast("Expense Head  Added Successfully","secondary"),this.shipToAddrsService.resetValues(),this.fetchProductTypeList(this.shipToAddrsService.pageIndex,this.shipToAddrsService.pageSize,this.shipToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))}))}fetchProductTypeList(t,s,r){var a=this;return(0,u.Z)(function*(){yield a.shipToAddrsService.refreshShipToAddrsList(t,s,r)})()}showToast(t,s){var r=this;return(0,u.Z)(function*(){yield r.toastCtrl.create({message:t,duration:2e3,position:"top",color:s,buttons:[{text:"ok",handler:()=>{}}]}).then(a=>a.present())})()}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(i.qu),e.Y36(p.gz),e.Y36(A.K),e.Y36(p.F0),e.Y36(T.Br),e.Y36(T.yF),e.Y36(g.D))};static#s=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-shipToAddress-details",8,"page"]],standalone:!0,features:[e.jDz],attrs:S,decls:40,vars:6,consts:[[3,"formGroup","ngSubmit"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/shiptoaddress"],["slot","primary",4,"ngIf"],["slot","end",3,"collapse",4,"ngIf"],[3,"fullscreen"],["no-padding",""],["label","Address Id","labelPlacement","floating","formControlName","addressId"],["label","Block","labelPlacement","floating","formControlName","block"],["label","City","labelPlacement","floating","formControlName","city"],["label","ZipCode","labelPlacement","floating","formControlName","zipCode"],["label","State","labelPlacement","floating","formControlName","state"],["label","Country","labelPlacement","floating","formControlName","country"],["label","GST No","labelPlacement","floating","formControlName","gstNo"],["slot","primary"],[3,"click"],["name","create-outline","slot","icon-only"],["slot","end",3,"collapse"],["type","submit"],[3,"routerLink"]],template:function(s,r){1&s&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.onSubmit(r.ShipToAddrsForm)}),e.TgZ(1,"ion-header",1)(2,"ion-toolbar",2)(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Ship To Address Details"),e.qZA(),e.YNc(7,b,3,0,"ion-buttons",5),e.YNc(8,f,3,1,"ion-buttons",6),e.YNc(9,E,3,3,"ion-buttons",6),e.qZA()(),e.TgZ(10,"ion-content",7)(11,"ion-grid",8)(12,"ion-row")(13,"ion-col",8)(14,"ion-item"),e._UZ(15,"ion-input",9),e.qZA()()(),e.TgZ(16,"ion-row")(17,"ion-col",8)(18,"ion-item"),e._UZ(19,"ion-input",10),e.qZA()()(),e.TgZ(20,"ion-row")(21,"ion-col",8)(22,"ion-item"),e._UZ(23,"ion-input",11),e.qZA()()(),e.TgZ(24,"ion-row")(25,"ion-col",8)(26,"ion-item"),e._UZ(27,"ion-input",12),e.qZA()()(),e.TgZ(28,"ion-row")(29,"ion-col",8)(30,"ion-item"),e._UZ(31,"ion-input",13),e.qZA()()(),e.TgZ(32,"ion-row")(33,"ion-col",8)(34,"ion-item"),e._UZ(35,"ion-input",14),e.qZA()()(),e.TgZ(36,"ion-row")(37,"ion-col",8)(38,"ion-item"),e._UZ(39,"ion-input",15),e.qZA()()()()()()),2&s&&(e.Q6J("formGroup",r.ShipToAddrsForm),e.xp6(1),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",1==r.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==r.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==r.ViewDataFlag),e.xp6(1),e.Q6J("fullscreen",!0))},dependencies:[o.Pc,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.gu,o.pK,o.Ie,o.Nd,o.wd,o.sr,o.j9,o.oU,o.YI,p.rH,_.O5,i.UX,i._Y,i.JJ,i.JL,i.sg,i.u]})}return n})()}}]);