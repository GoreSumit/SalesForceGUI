"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9092],{9092:(y,h,r)=>{r.r(h),r.d(h,{BilltoAddressPage:()=>P});var b=r(5861),g=r(6814),s=r(95),u=r(209),i=r(3582),d=r(6306),c=r(8504),e=r(6689),p=r(9636),m=r(4414),T=r(2722);const A=["class","page"];function f(a,_){if(1&a){const o=e.EpF();e.TgZ(0,"ion-buttons",16)(1,"ion-button",17),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.ChangeViewDataFlag())}),e._UZ(2,"ion-icon",18),e.qZA()()}}function D(a,_){1&a&&(e.TgZ(0,"ion-buttons",19)(1,"ion-button",20),e._uU(2,"Save"),e.qZA()()),2&a&&e.Q6J("collapse",!0)}const E=function(){return["/billToAddress"]};function C(a,_){1&a&&(e.TgZ(0,"ion-buttons",19)(1,"ion-button",21),e._uU(2,"Cancel"),e.qZA()()),2&a&&(e.Q6J("collapse",!0),e.xp6(1),e.Q6J("routerLink",e.DdM(2,E)))}let P=(()=>{class a{constructor(o,t,l,n,S,B,v){this._fb=o,this.activatedRoute=t,this.billToAddrsService=l,this.router=n,this.alertCtrl=S,this.toastCtrl=B,this.loader=v,this.loadedBillToAddrs={},this.ViewDataFlag=!1}ngOnInit(){this.initExpenseForm(),this.activatedRoute.paramMap.subscribe(o=>{if(o.has("billtoform"))if(o.get("billtoform")){const t=JSON.parse(o.get("billtoform"));this.ViewDataFlag=!0,this.loadExpenseMasterDetails(t)}else this.loadExpenseMasterDetails();else this.router.navigate(["/billToAddress"])})}initExpenseForm(){this.billtoForm=this._fb.group({id:[0],addressId:["",s.kI.required],block:["",s.kI.required],city:["",s.kI.required],zipCode:["",s.kI.required],state:["",s.kI.required],country:["",s.kI.required],gstNo:["",s.kI.required]})}enableFormControl(o){1==o?(this.billtoForm.get("addressId").enable(),this.billtoForm.get("block").enable(),this.billtoForm.get("city").enable(),this.billtoForm.get("zipCode").enable(),this.billtoForm.get("state").enable(),this.billtoForm.get("country").enable(),this.billtoForm.get("gstNo").enable()):(this.billtoForm.get("addressId").disable(),this.billtoForm.get("block").disable(),this.billtoForm.get("city").disable(),this.billtoForm.get("zipCode").disable(),this.billtoForm.get("state").disable(),this.billtoForm.get("country").enable(),this.billtoForm.get("gstNo").enable())}loadExpenseMasterDetails(o=-1){-1==o||(this.billToAddrsService.getBillToAddrs(o).pipe((0,d.K)(t=>(this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{t.responseData&&(this.loadedBillToAddrs=t.responseData[0],this.billtoForm.patchValue({id:this.loadedBillToAddrs.id,addressId:this.loadedBillToAddrs.addressId,block:this.loadedBillToAddrs.block,city:this.loadedBillToAddrs.city,zipCode:this.loadedBillToAddrs.zipCode,state:this.loadedBillToAddrs.state,country:this.loadedBillToAddrs.country,gstNo:this.loadedBillToAddrs.gstNo}))}),this.enableFormControl(!1))}ChangeViewDataFlag(){this.ViewDataFlag=!1,this.enableFormControl(!0)}DeleteExpenseMaster(){const o=this.loadedBillToAddrs.id;this.alertCtrl.create({header:"Are you sure?",message:"Do you really want to delete the Expense Head ?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>{this.loader.present(),this.billToAddrsService.deleteBillToAddrs(o).pipe((0,d.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id==this.loadedBillToAddrs.id&&0==t.errCode&&(this.showToast("Expense Master  Deleted Successfully","secondary"),this.billToAddrsService.resetValues(),this.fetchProductTypeList(this.billToAddrsService.pageIndex,this.billToAddrsService.pageSize,this.billToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))})}}]}).then(t=>{t.present()})}onSubmit({value:o}){o.id?(this.loader.present(),this.billToAddrsService.updateBillToAddrs(o.id,o).pipe((0,d.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id&&0==t.errCode&&(this.showToast("Expense Head updated Successfully","secondary"),this.billToAddrsService.resetValues(),this.fetchProductTypeList(this.billToAddrsService.pageIndex,this.billToAddrsService.pageSize,this.billToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))})):(this.loader.present(),this.billToAddrsService.AddBillToAddrs(o).pipe((0,d.K)(t=>(this.loader.dismiss(),this.showToast("Some error has been occured","danger"),(0,c._)(()=>t)))).subscribe(t=>{this.loader.dismiss(),t.responseData&&t.responseData.id&&0==t.errCode&&(this.showToast("Expense Head  Added Successfully","secondary"),this.billToAddrsService.resetValues(),this.fetchProductTypeList(this.billToAddrsService.pageIndex,this.billToAddrsService.pageSize,this.billToAddrsService.searchTerm),this.router.navigate(["/billToAddress"]))}))}fetchProductTypeList(o,t,l){var n=this;return(0,b.Z)(function*(){yield n.billToAddrsService.refreshBillToAddrsList(o,t,l)})()}showToast(o,t){var l=this;return(0,b.Z)(function*(){yield l.toastCtrl.create({message:o,duration:2e3,position:"top",color:t,buttons:[{text:"ok",handler:()=>{}}]}).then(n=>n.present())})()}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(u.gz),e.Y36(p.a),e.Y36(u.F0),e.Y36(m.Br),e.Y36(m.yF),e.Y36(T.D))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-billToAddress-details",8,"page"]],standalone:!0,features:[e.jDz],attrs:A,decls:40,vars:6,consts:[[3,"formGroup","ngSubmit"],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/billToAddress"],["slot","primary",4,"ngIf"],["slot","end",3,"collapse",4,"ngIf"],[3,"fullscreen"],["no-padding",""],["label","Address Id","labelPlacement","floating","formControlName","addressId"],["label","Block","labelPlacement","floating","formControlName","block"],["label","City","labelPlacement","floating","formControlName","city"],["label","ZipCode","labelPlacement","floating","formControlName","zipCode"],["label","State","labelPlacement","floating","formControlName","state"],["label","Country","labelPlacement","floating","formControlName","country"],["label","GST No","labelPlacement","floating","formControlName","gstNo"],["slot","primary"],[3,"click"],["name","create-outline","slot","icon-only"],["slot","end",3,"collapse"],["type","submit"],[3,"routerLink"]],template:function(t,l){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return l.onSubmit(l.billtoForm)}),e.TgZ(1,"ion-header",1)(2,"ion-toolbar",2)(3,"ion-buttons",3),e._UZ(4,"ion-back-button",4),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Bill to Form Details"),e.qZA(),e.YNc(7,f,3,0,"ion-buttons",5),e.YNc(8,D,3,1,"ion-buttons",6),e.YNc(9,C,3,3,"ion-buttons",6),e.qZA()(),e.TgZ(10,"ion-content",7)(11,"ion-grid",8)(12,"ion-row")(13,"ion-col",8)(14,"ion-item"),e._UZ(15,"ion-input",9),e.qZA()()(),e.TgZ(16,"ion-row")(17,"ion-col",8)(18,"ion-item"),e._UZ(19,"ion-input",10),e.qZA()()(),e.TgZ(20,"ion-row")(21,"ion-col",8)(22,"ion-item"),e._UZ(23,"ion-input",11),e.qZA()()(),e.TgZ(24,"ion-row")(25,"ion-col",8)(26,"ion-item"),e._UZ(27,"ion-input",12),e.qZA()()(),e.TgZ(28,"ion-row")(29,"ion-col",8)(30,"ion-item"),e._UZ(31,"ion-input",13),e.qZA()()(),e.TgZ(32,"ion-row")(33,"ion-col",8)(34,"ion-item"),e._UZ(35,"ion-input",14),e.qZA()()(),e.TgZ(36,"ion-row")(37,"ion-col",8)(38,"ion-item"),e._UZ(39,"ion-input",15),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",l.billtoForm),e.xp6(1),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",1==l.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==l.ViewDataFlag),e.xp6(1),e.Q6J("ngIf",0==l.ViewDataFlag),e.xp6(1),e.Q6J("fullscreen",!0))},dependencies:[i.Pc,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Nd,i.wd,i.sr,i.j9,i.oU,i.YI,u.rH,g.O5,s.UX,s._Y,s.JJ,s.JL,s.sg,s.u]})}return a})()}}]);