"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6219],{6219:(Z,u,i)=>{i.r(u),i.d(u,{AreaPage:()=>A});var c=i(5861),h=i(6814),g=i(209),t=i(3582),_=i(95),e=i(6689),S=i(8353),d=i(4414);const v=function(){return["/area",""]};function m(o,l){if(1&o){const a=e.EpF();e.TgZ(0,"ion-toolbar",4)(1,"ion-buttons",5),e._UZ(2,"ion-back-button",6),e.qZA(),e.TgZ(3,"ion-title"),e._uU(4,"Area"),e.qZA(),e.TgZ(5,"ion-buttons",7)(6,"ion-button",8),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.toggleSearchBar())}),e._UZ(7,"ion-icon",9),e.qZA()(),e.TgZ(8,"ion-buttons",7)(9,"ion-button",10),e._UZ(10,"ion-icon",11),e.qZA()()()}2&o&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,v)))}function p(o,l){if(1&o){const a=e.EpF();e.TgZ(0,"ion-toolbar",4)(1,"ion-buttons",5),e._UZ(2,"ion-back-button"),e.qZA(),e.TgZ(3,"ion-searchbar",12),e.NdJ("ngModelChange",function(n){e.CHM(a);const s=e.oxw();return e.KtG(s.areaService.searchTerm=n)}),e.qZA(),e.TgZ(4,"ion-buttons",13)(5,"ion-button",14),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.search(n.areaService.searchTerm))}),e._uU(6,"Search"),e.qZA()(),e.TgZ(7,"ion-buttons",13)(8,"ion-button",14),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.cancelSearch())}),e._uU(9,"Cancel"),e.qZA()()()}if(2&o){const a=e.oxw();e.xp6(3),e.Q6J("ngModel",a.areaService.searchTerm)}}const f=function(o){return["/area",o]};function T(o,l){if(1&o&&(e.TgZ(0,"ion-item",10)(1,"ion-label")(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"ion-note",15),e._uU(6),e.qZA()(),e.TgZ(7,"div",16),e._UZ(8,"ion-icon",17),e.qZA()()),2&o){const a=l.$implicit;e.Q6J("routerLink",e.VKq(3,f,a.id)),e.xp6(3),e.Oqu(a.areaCode),e.xp6(3),e.hij(" ",a.areaName," ")}}let A=(()=>{class o{constructor(a,r){this.areaService=a,this.toastCtrl=r}ngOnInit(){this.areaService.searchTerm="",this.fetchAreaList(this.areaService.pageIndex,this.areaService.pageSize,this.areaService.searchTerm),this.areaService.pageIndex+=1}fetchAreaList(a,r,n){var s=this;return(0,c.Z)(function*(){yield s.areaService.refreshAreaList(a,r,n)})()}onScrollLoadData(a){var r=this;return(0,c.Z)(function*(){r.areaService.areaList.length!==r.areaService.totalCount&&(r.fetchAreaList(r.areaService.pageIndex,r.areaService.pageSize,r.areaService.searchTerm),r.areaService.pageIndex+=1),setTimeout(()=>{a.target.complete()},500)})()}toggleSearchBar(){this.areaService.showSearchBar=!this.areaService.showSearchBar}cancelSearch(){var a=this;return(0,c.Z)(function*(){a.areaService.showSearchBar=!1,a.areaService.searchTerm="",a.areaService.pageIndex=1,a.areaService.areaList=[],yield a.fetchAreaList(a.areaService.pageIndex,a.areaService.pageSize,a.areaService.searchTerm),a.areaService.pageIndex+=1})()}search(a){var r=this;return(0,c.Z)(function*(){r.areaService.pageIndex=1,r.areaService.areaList=[],yield r.fetchAreaList(r.areaService.pageIndex,r.areaService.pageSize,r.areaService.searchTerm),r.areaService.pageIndex+=1})()}showToast(a,r){var n=this;return(0,c.Z)(function*(){yield n.toastCtrl.create({message:a,duration:2e3,position:"top",color:r,buttons:[{text:"ok",handler:()=>{}}]}).then(s=>s.present())})()}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(S.T),e.Y36(d.yF))};static#a=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-area"]],standalone:!0,features:[e.jDz],decls:6,vars:5,consts:[[3,"translucent"],["color","primary",4,"ngIf"],[3,"fullscreen"],[3,"routerLink",4,"ngFor","ngForOf"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],["expand","block",3,"click"],["name","search-outline"],[3,"routerLink"],["name","add-outline","slot","icon-only"],[3,"ngModel","ngModelChange"],["slot","end"],[2,"text-transform","none",3,"click"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium","name","chevron-forward"]],template:function(r,n){1&r&&(e.TgZ(0,"ion-header",0),e.YNc(1,m,11,2,"ion-toolbar",1),e.YNc(2,p,10,1,"ion-toolbar",1),e.qZA(),e.TgZ(3,"ion-content",2)(4,"ion-list"),e.YNc(5,T,9,5,"ion-item",3),e.qZA()()),2&r&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("ngIf",!n.areaService.showSearchBar),e.xp6(1),e.Q6J("ngIf",n.areaService.showSearchBar),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngForOf",n.areaService.areaList))},dependencies:[t.Pc,t.YG,t.Sm,t.W2,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.uN,t.VI,t.wd,t.sr,t.j9,t.oU,t.YI,g.rH,h.ax,h.O5,_.u5,_.JJ,_.On]})}return o})()}}]);